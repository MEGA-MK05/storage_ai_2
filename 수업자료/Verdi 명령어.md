# Verdi 명령어 및 실전 사용 예시

이 문서는 Verdi의 주요 기능별 명령어와 실제 사용 흐름을 예시와 함께 설명합니다. 각 단계별로 실무에서 어떻게 활용되는지 쉽게 이해할 수 있도록 구성했습니다.

---

## 1. 데이터 준비 (KDB & FSDB)

### 예시 시나리오
디자인을 컴파일하고, 시뮬레이션 결과를 FSDB로 저장한 뒤, Verdi에서 파형을 분석하는 과정입니다.

```bash
# 1. KDB 생성하며 컴파일
vcs -kdb -full64 -debug_all testbench.sv

# 2. 시뮬레이션 실행 및 FSDB 생성
./simv +fsdbfile+wave.fsdb

# 3. Verdi에서 FSDB 파형 분석 시작
verdi -ssf wave.fsdb
```
- **설명:** 위처럼 명령어를 순서대로 입력하면, 시뮬레이션 결과가 wave.fsdb로 저장되고, Verdi에서 바로 파형을 볼 수 있습니다.

---

## 2. FSDB 유틸리티

### 예시 시나리오
여러 개의 FSDB 파일을 하나로 합치고, VCD로 변환하여 타 툴에서 활용하고 싶을 때:

```bash
# 1. FSDB 파일 병합
fsdbmerge -o merged.fsdb run1.fsdb run2.fsdb

# 2. 병합된 FSDB를 VCD로 변환
fsdb2vcd merged.fsdb merged.vcd
```
- **설명:** 여러 번의 시뮬레이션 결과를 하나로 합치고, 표준 VCD로 변환해 타 툴에서도 파형을 볼 수 있습니다.

---

## 3. nTrace (디자인 탐색)

### 예시 시나리오
특정 신호의 드라이버(입력)와 로드(출력)를 빠르게 추적하고 싶을 때:

1. Verdi에서 신호를 마우스 오른쪽 클릭 → Trace → Driver 선택  
2. 신호의 입력 소스가 소스코드와 회로도에 자동으로 표시됨  
3. Trace → Load를 선택하면 해당 신호를 참조하는 모든 출력도 한눈에 확인 가능

- **설명:** 복잡한 디자인에서 신호의 흐름을 빠르게 파악할 수 있습니다.

---

## 4. nSchema (회로도 뷰어)

### 예시 시나리오
특정 모듈의 회로도를 보고 싶을 때:

1. 인스턴스(모듈) 선택 → Tools → New Schematic 클릭  
2. 새로운 창에 해당 인스턴스의 회로도가 시각적으로 표시됨  
3. View → Detail RTL을 선택하면, 논리 게이트 수준까지 상세하게 볼 수 있음

- **설명:** 코드만으로 이해하기 어려운 구조를 시각적으로 쉽게 파악할 수 있습니다.

---

## 5. nWave (파형 뷰어)

### 예시 시나리오
파형에서 특정 신호가 1이 되는 시점을 찾고 싶을 때:

1. File → Open으로 wave.fsdb 파일을 염  
2. 신호를 선택 후, Waveform → Set Search Value에서 값(예: 1) 입력  
3. 해당 값이 되는 모든 시점이 파형에 표시됨

- **설명:** 원하는 조건의 파형 구간을 빠르게 찾을 수 있습니다.

---

## 6. nState (상태 머신 뷰어)

### 예시 시나리오
FSM의 상태 전이 다이어그램을 보고 싶을 때:

1. 소스코드에서 상태 심볼을 더블 클릭  
2. nState 창이 열리며, 상태 전이 다이어그램이 자동으로 생성됨  
3. FSM → Analysis Report로 상태 커버리지 등 분석 리포트 확인 가능

- **설명:** 복잡한 FSM의 동작을 한눈에 파악할 수 있습니다.

---

## 7. TFV (Temporal Flow View) / 자동 추적

### 예시 시나리오
파형에서 특정 신호가 왜 0이 되었는지 원인을 추적하고 싶을 때:

1. nWave에서 해당 신호의 0이 된 시점을 클릭  
2. Tools → Automatic Trace 실행  
3. TFV 창에서 해당 값이 결정된 원인 신호와 경로가 시간 순서대로 시각화됨  
4. Tools → Show All Traced Signals on nWave로, 추적된 모든 신호를 파형에 추가하여 함께 분석

- **설명:** 신호 값의 변화 원인을 빠르게 역추적할 수 있습니다.

---

> 각 단계별로 실제로 어떻게 활용되는지, 실무 흐름에 맞춘 예시와 설명을 참고해 주세요. 추가로 궁금한 사용법이나 상세 예시가 필요하면 언제든 요청해 주세요! 